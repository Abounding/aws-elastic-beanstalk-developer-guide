# Instance Metrics<a name="health-enhanced-metrics"></a>

Instance metrics provide information about the health of instances in your environment\. The AWS Elastic Beanstalk [Elastic Beanstalk health agent](health-enhanced.md#health-enhanced-agent) gathers and relays metrics about instances to Elastic Beanstalk, which analyzes the metrics to determine the health of the instances in your environments\. 

The Elastic Beanstalk health agent gathers metrics about instances from web server logs and the operating system\. Web server logs provide information about incoming HTTP requests: how many requests came in, how many resulted in errors, and how long they took to resolve\. The operating system provides snapshot information about the state of the instances' resources: the CPU load and distribution of time spent on each process type\. These metrics are a subset of the information that you would see if you ran `top` on a Linux server\.

The health agent gathers web server and operating system metrics and relays them to Elastic Beanstalk every ten seconds\. Elastic Beanstalk analyzes the data and uses the results to update the health status for each instance and the environment\.

## Web Server Metrics<a name="health-enhanced-metrics-server"></a>

The Elastic Beanstalk health agent reads web server metrics from logs generated by the web container or server that processes requests on each instance in your environment\. Elastic Beanstalk platforms are configured to generate two logs: one in human readable format and one in machine readable format\. The health agent relays machine\-readable logs to Elastic Beanstalk every ten seconds\.

For more information on the log format used by Elastic Beanstalk, see [Enhanced Health Log Format](health-enhanced-serverlogs.md)\.Web Server Metrics

`RequestCount`  
Number of requests handled by the web server per second over the last 10 seconds\. Shown as an average `r/sec` \(requests per second\) in the EB CLI and [Environment Health Page](health-enhanced-console.md#health-enhanced-console-healthpage)

`Status2xx``Status3xx``Status4xx``Status5xx`  
Number of requests that resulted in each type of status code over the last 10 seconds\. For example, successful requests return a 200 OK, redirects are a 301, and a 404 is returned if the URL entered does not match any resources in the application\.  
The EB CLI and [Environment Health Page](health-enhanced-console.md#health-enhanced-console-healthpage) show these metrics both as a raw number of requests for instances, and as a percentage of overall requests for environments\.

`p99.9``p99``p95``p90``p85``p75``p50``p10`  
Average latency over the last 10 seconds, broken down into percentiles\. For example, *p99 3.001* indicates that latency for 99% of requests over the last 10 seconds were completed within 3.001 seconds\.

## Operating System Metrics<a name="health-enhanced-metrics-os"></a>

The Elastic Beanstalk health agent reports the following operating system metrics\. Elastic Beanstalk uses these metrics to identify instances that are under sustained heavy load:Operating System Metrics

`Running`  
The amount of time that has passed since the instance was launched\.

`Load 1``Load 5`  
Load average in the last 1\-minute and 5\-minute periods\. Shown as a decimal value indicating the average number of processes running during that time\. If the number shown is higher than the number of vCPUs \(threads\) available, then the remainder is the average number of processes that were waiting\.  
For example, if your instance type has 4 vCPUs, and the load is 4\.5, there was an average of \.5 processes in wait during that time period, equivalent to one process was waiting 50 percent of the time\.

`User %``Nice %``System %``Idle %``I/O Wait %`  
Percentage of time that the CPU has spent in each state over the last 10 seconds\.